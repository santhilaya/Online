<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Santhilaya Store</title>

<style>
body{
 margin:0;
 font-family:'Segoe UI',Arial;
 background:#f8f8f8;
}

header{
 background:#fff;
 border-bottom:1px solid #ddd;
 position:sticky;top:0;z-index:1000;
}

.top-bar{
 display:flex;align-items:center;
 justify-content:space-between;
 padding:10px 20px;
}

.logo{font-size:22px;font-weight:700;color:#ff3e6c;}

.search-box input{
 width:350px;padding:10px;border:1px solid #ccc;border-radius:3px;
}
.nav-links{display:flex;gap:25px;font-weight:600;font-size:14px;}
.nav-links a{text-decoration:none;color:#333;text-transform:uppercase;}
.hamburger{display:none;font-size:26px;cursor:pointer;}

.category-bar{
 background:#fff;padding:8px 20px;display:flex;gap:25px;
 border-bottom:1px solid #eee;font-size:14px;font-weight:600;
}
.category-bar a{text-decoration:none;color:#555;cursor:pointer;}

.container{width:90%;max-width:1200px;margin:auto;padding:20px;}

.product-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:20px;}
.card{
 background:#fff;border-radius:8px;padding:12px;text-align:center;
 box-shadow:0 1px 5px rgba(0,0,0,0.08);cursor:pointer;
}
.card img{width:100%;height:220px;object-fit:contain;}
.card h4{margin:10px 0;font-size:15px;}
.card p{font-size:13px;color:#555;}
.btn{padding:10px;background:#ff3e6c;color:#fff;border:0;width:100%;cursor:pointer;border-radius:5px;}

.hidden{display:none;}

table{width:100%;background:white;border-collapse:collapse;}
th,td{padding:10px;border-bottom:1px solid #ddd;}

.checkout-box{background:white;padding:15px;margin-top:15px;}
input{width:100%;padding:10px;border:1px solid #ddd;border-radius:5px;margin:6px 0;}

footer{background:#222;color:#fff;text-align:center;padding:15px;margin-top:20px;}

.cart-num{background:#ff3e6c;color:white;padding:2px 7px;border-radius:50%;font-size:13px;}

@media(max-width:768px){
 .search-box input{display:none;}
 .nav-links{display:none;}
 .hamburger{display:block;}
 .category-bar{overflow-x:auto;white-space:nowrap;}
}
</style>
</head>

<body>

<header>
 <div class="top-bar">
   <div class="logo">Santhilaya Store</div>
   <div class="search-box"><input id="search" placeholder="Search..." onkeyup="renderProducts()"></div>
   <div class="nav-links">
     <a onclick="showPage('home')">Home</a>
     <a onclick="showPage('cart')">Cart <span id="cartCount" class="cart-num">0</span></a>
     <a onclick="showPage('orders')">Orders</a>
   </div>
   <div class="hamburger" onclick="toggleMenu()">☰</div>
 </div>

 <div class="category-bar">
   <a onclick="filterCategory('all')">All</a>
   <a onclick="filterCategory('men')">Men</a>
   <a onclick="filterCategory('women')">Women</a>
 </div>
</header>


<div id="home" class="container">
 <div class="product-grid" id="productList"></div>
</div>

<div id="cart" class="container hidden">
 <h2>Your Cart</h2>
 <div id="cartItems"></div>
 <div id="checkoutBox" class="checkout-box hidden">
   <h3>Checkout</h3>
   <input id="custName" placeholder="Your Name">
   <input id="custAddress" placeholder="Address">
   <input id="custPhone" placeholder="Phone">
   <button class="btn" onclick="placeOrder()">Place Order</button>
 </div>
</div>

<div id="orders" class="container hidden">
 <h2>Your Orders</h2>
 <div id="orderList"></div>
</div>

<footer>© 2025 MyntraLite Demo</footer>

<script>
function toggleMenu(){
 const nav=document.querySelector(".nav-links");
 nav.style.display = nav.style.display==="flex"?"none":"flex";
}

const products = [
 {id:1,name:"Men Shirt",cat:"men",price:499,img:"https://via.placeholder.com/200"},
 {id:2,name:"Women Kurti",cat:"women",price:699,img:"https://via.placeholder.com/200"},
 {id:3,name:"Sports Shoes",cat:"men",price:1299,img:"https://via.placeholder.com/200"},
 {id:4,name:"Smart Watch",cat:"gadgets",price:1499,img:"https://via.placeholder.com/200"}
];

let cart = JSON.parse(localStorage.getItem("cart"))||[];
let orders = JSON.parse(localStorage.getItem("orders"))||[];
let selectedCat="all";

function filterCategory(c){selectedCat=c;renderProducts();}

function renderProducts(){
 let key=document.getElementById("search").value.toLowerCase();
 let list=products.filter(p=>p.name.toLowerCase().includes(key));
 if(selectedCat!=="all"){list = list.filter(p=>p.cat===selectedCat);}
 document.getElementById("productList").innerHTML =
 list.map(p=>`
 <div class="card">
   <img src="${p.img}">
   <h4>${p.name}</h4>
   <p>₹${p.price}</p>
   <button class="btn" onclick="addToCart(${p.id})">Add to Cart</button>
 </div>
 `).join("");
}
renderProducts();

function showPage(id){
 document.getElementById("home").classList.add("hidden");
 document.getElementById("cart").classList.add("hidden");
 document.getElementById("orders").classList.add("hidden");
 document.getElementById(id).classList.remove("hidden");
 if(id==="cart") renderCart();
 if(id==="orders") renderOrders();
}

function addToCart(id){
 cart.push(products.find(p=>p.id===id));
 localStorage.setItem("cart",JSON.stringify(cart));
 updateCartCount();
 // alert("Added to cart");
}

function renderCart(){
 if(cart.length===0){
  document.getElementById("cartItems").innerHTML="<p>No items</p>";
  document.getElementById("checkoutBox").classList.add("hidden");
  return;
 }
 let html="<table><tr><th>Item</th><th>₹</th><th>X</th></tr>";
 cart.forEach((c,i)=>{
  html+=`<tr><td>${c.name}</td><td>${c.price}</td>
  <td><button onclick="removeItem(${i})">X</button></td></tr>`;
 });
 html+=`</table><h3>Total ₹${cart.reduce((t,x)=>t+x.price,0)}</h3>`;
 document.getElementById("cartItems").innerHTML=html;
 document.getElementById("checkoutBox").classList.remove("hidden");
}

function removeItem(i){
 cart.splice(i,1);
 localStorage.setItem("cart",JSON.stringify(cart));
 updateCartCount();
 renderCart();
}

function updateCartCount(){document.getElementById("cartCount").textContent=cart.length;}
updateCartCount();

function placeOrder(){
 if(!custName.value || !custAddress.value || !custPhone.value){
   alert("Fill details");
   return;
 }

 let total = cart.reduce((t,x)=>t+x.price,0);
 let items = cart.map(x => `${x.name} (₹${x.price})`).join(", ");

 orders.push({
  name: custName.value,
  addr: custAddress.value,
  phone: custPhone.value,
  total: total,
  items: cart,
  map: cart.map(x=>x.name).join(", "),
  time: new Date().toLocaleString()
 });

 localStorage.setItem("orders",JSON.stringify(orders));

 // WhatsApp message text
 let message =
 `New Order\n\n` +
 `Name: ${custName.value}\n` +
 `Phone: ${custPhone.value}\n` +
 `Address: ${custAddress.value}\n\n` +
 `Items: ${items}\n` +
 `Total: ₹${total}\n` +
 `${new Date().toLocaleString()}`;

 // Admin WhatsApp number (edit to yours)
 let adminPhone = "919876543210"; 

 let whatsappUrl = `https://wa.me/${adminPhone}?text=${encodeURIComponent(message)}`;
 window.open(whatsappUrl, "_blank");

 cart = [];
 localStorage.setItem("cart",JSON.stringify(cart));
 updateCartCount();

 showPage("orders");
 alert("Order placed and sent to WhatsApp");
}


function renderOrders(){
 if(orders.length===0){document.getElementById("orderList").innerHTML="<p>No Orders</p>";return;}
 document.getElementById("orderList").innerHTML =
 orders.map(o=>`<div style="background:#fff;padding:10px;margin-bottom:10px;">
 <b>${o.name}</b> (${o.phone})<br>${o.addr}<br>${o.time}<br>
 Items: ${o.map}<br><b>Total ₹${o.total}</b></div>`).join("");
}
</script>
</body>
</html>
